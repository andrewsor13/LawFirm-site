{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreisorin/Desktop/ProjectsInProgress/LawFirm-site/src/lib/prisma.tsx"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\n\nconst globalForPrisma = globalThis as unknown as {\n  prisma: PrismaClient | undefined;\n};\n\nexport const prisma =\n  globalForPrisma.prisma ??\n  new PrismaClient({\n    log:\n      process.env.NODE_ENV === \"development\"\n        ? [\"query\", \"error\", \"warn\"]\n        : [\"error\"],\n  });\n\nif (process.env.NODE_ENV !== \"production\") {\n  globalForPrisma.prisma = prisma;\n}\n\nprocess.on(\"beforeExit\", async () => {\n  await prisma.$disconnect();\n});\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,kBAAkB;AAIjB,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,6HAAA,CAAA,eAAY,CAAC;IACf,KACE,uCACI;QAAC;QAAS;QAAS;KAAO;AAElC;AAEF,wCAA2C;IACzC,gBAAgB,MAAM,GAAG;AAC3B;AAEA,QAAQ,EAAE,CAAC,cAAc;IACvB,MAAM,OAAO,WAAW;AAC1B","debugId":null}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreisorin/Desktop/ProjectsInProgress/LawFirm-site/src/app/api/settings/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport { prisma } from \"@/lib/prisma\";\n\nexport async function GET() {\n  try {\n    const settings = await prisma.siteSettings.findUnique({\n      where: { id: \"singleton\" },\n    });\n\n    return NextResponse.json(settings ?? { blogMode: false }, { status: 200 });\n  } catch (error) {\n    console.error(\"GET /api/settings failed:\", error);\n    return NextResponse.json({ blogMode: false }, { status: 200 });\n  }\n}\n\nexport async function PATCH(req: Request) {\n  const { getServerSession } = await import(\"next-auth\");\n  const { authOptions } = await import(\"@/lib/auth\");\n  const session = await getServerSession(authOptions);\n\n  if (!session)\n    return NextResponse.json({ error: \"Neautorizat\" }, { status: 401 });\n\n  if (session.user.role !== \"admin\")\n    return NextResponse.json({ error: \"Acces restricționat\" }, { status: 403 });\n\n  try {\n    const { blogMode } = await req.json();\n\n    if (typeof blogMode !== \"boolean\") {\n      return NextResponse.json(\n        { error: \"`blogMode` trebuie să fie boolean\" },\n        { status: 400 }\n      );\n    }\n\n    const updated = await prisma.siteSettings.update({\n      where: { id: \"singleton\" },\n      data: { blogMode },\n    });\n\n    return NextResponse.json(updated, { status: 200 });\n  } catch (error) {\n    console.error(\"PATCH /api/settings error:\", error);\n    return NextResponse.json(\n      { error: \"Eroare internă la actualizare setări\" },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,WAAW,MAAM,uHAAA,CAAA,SAAM,CAAC,YAAY,CAAC,UAAU,CAAC;YACpD,OAAO;gBAAE,IAAI;YAAY;QAC3B;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC,YAAY;YAAE,UAAU;QAAM,GAAG;YAAE,QAAQ;QAAI;IAC1E,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,UAAU;QAAM,GAAG;YAAE,QAAQ;QAAI;IAC9D;AACF;AAEO,eAAe,MAAM,GAAY;IACtC,MAAM,EAAE,gBAAgB,EAAE,GAAG;IAC7B,MAAM,EAAE,WAAW,EAAE,GAAG;IACxB,MAAM,UAAU,MAAM,iBAAiB;IAEvC,IAAI,CAAC,SACH,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;QAAE,OAAO;IAAc,GAAG;QAAE,QAAQ;IAAI;IAEnE,IAAI,QAAQ,IAAI,CAAC,IAAI,KAAK,SACxB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;QAAE,OAAO;IAAsB,GAAG;QAAE,QAAQ;IAAI;IAE3E,IAAI;QACF,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;QAEnC,IAAI,OAAO,aAAa,WAAW;YACjC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAoC,GAC7C;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,UAAU,MAAM,uHAAA,CAAA,SAAM,CAAC,YAAY,CAAC,MAAM,CAAC;YAC/C,OAAO;gBAAE,IAAI;YAAY;YACzB,MAAM;gBAAE;YAAS;QACnB;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC,SAAS;YAAE,QAAQ;QAAI;IAClD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAuC,GAChD;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}