{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import { withAuth } from \"next-auth/middleware\";\nimport { NextResponse } from \"next/server\";\n\nexport default withAuth(\n  function middleware(req) {\n    const { pathname } = req.nextUrl;\n\n    if (pathname === \"/login\" && req.nextauth.token) {\n      const url = req.nextUrl.clone();\n      url.pathname = \"/admin/dashboard\";\n      return NextResponse.redirect(url);\n    }\n\n    if (pathname === \"/admin\" && !req.nextauth.token) {\n      const url = req.nextUrl.clone();\n      url.pathname = \"/login\";\n      url.search = \"\";\n      return NextResponse.redirect(url);\n    }\n\n    if (pathname === \"/admin\" && req.nextauth.token) {\n      const url = req.nextUrl.clone();\n      url.pathname = \"/admin/dashboard\";\n      return NextResponse.redirect(url);\n    }\n\n    return NextResponse.next();\n  },\n  {\n    callbacks: {\n      authorized: ({ token, req }) => {\n        const { pathname } = req.nextUrl;\n\n        if (pathname.startsWith(\"/admin\")) {\n          return !!token?.role;\n        }\n\n        return true;\n      },\n    },\n  }\n);\n\nexport const config = {\n  matcher: [\"/admin\", \"/admin/:path*\", \"/login\"],\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;;;uCAEe,CAAA,GAAA,kJAAA,CAAA,WAAQ,AAAD,EACpB,SAAS,WAAW,GAAG;IACrB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,OAAO;IAEhC,IAAI,aAAa,YAAY,IAAI,QAAQ,CAAC,KAAK,EAAE;QAC/C,MAAM,MAAM,IAAI,OAAO,CAAC,KAAK;QAC7B,IAAI,QAAQ,GAAG;QACf,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,IAAI,aAAa,YAAY,CAAC,IAAI,QAAQ,CAAC,KAAK,EAAE;QAChD,MAAM,MAAM,IAAI,OAAO,CAAC,KAAK;QAC7B,IAAI,QAAQ,GAAG;QACf,IAAI,MAAM,GAAG;QACb,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,IAAI,aAAa,YAAY,IAAI,QAAQ,CAAC,KAAK,EAAE;QAC/C,MAAM,MAAM,IAAI,OAAO,CAAC,KAAK;QAC7B,IAAI,QAAQ,GAAG;QACf,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,OAAO,6LAAA,CAAA,eAAY,CAAC,IAAI;AAC1B,GACA;IACE,WAAW;QACT,YAAY,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE;YACzB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,OAAO;YAEhC,IAAI,SAAS,UAAU,CAAC,WAAW;gBACjC,OAAO,CAAC,CAAC,OAAO;YAClB;YAEA,OAAO;QACT;IACF;AACF;AAGK,MAAM,SAAS;IACpB,SAAS;QAAC;QAAU;QAAiB;KAAS;AAChD"}}]
}